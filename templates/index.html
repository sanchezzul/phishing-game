<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detector de Phishing</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="progress-bar">
    <div class="progress" style="width: {{ progreso }}%"></div>
</div>

<div class="correo">
    <div class="header">
        <img src="{{ url_for('static', filename='mail.png') }}" class="logo">
        <div>
            <strong>{{ correo.remitente }}</strong><br>
            <span class="asunto">{{ correo.asunto }}</span>
        </div>
    </div>

    <p class="mensaje">{{ correo.mensaje }}</p>

    <div class="timer">
        ⏱️ Tiempo: <span id="time">10</span>s
    </div>

    <form method="POST" id="form">
        <button name="respuesta" value="real" class="btn real">✔ Real</button>
        <button name="respuesta" value="falso" class="btn falso">✖ Falso</button>
    </form>
</div>

<script>
let time = 10;
const timer = document.getElementById("time");

const interval = setInterval(() => {
    time--;
    timer.textContent = time;

    if (time === 0) {
        clearInterval(interval);
        
        const input = document.createElement("input");
        input.type = "hidden";
        input.name = "respuesta";
        input.value = "timeout";  // por defecto si no responde

        document.getElementById("form").appendChild(input);
        document.getElementById("form").submit();
    }

}, 1000);
</script>

</body>
</html>


